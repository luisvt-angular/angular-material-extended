<h2 *ngIf="data.title" matDialogTitle>{{data.title}}</h2>
<form [formGroup]="form">
  <mat-dialog-content>
    <p *ngIf="data.message">{{data.message}}</p>
    <ng-template [ngIf]="data.inputs">
      <ng-template ngFor let-input [ngForOf]="data.inputs">
        <matx-input *ngIf="input.type === 'text' || input.type === 'number'"
                    [type]="input.type"
                    [label]="input.label"
                    [placeholder]="input.placeholder"
                    [formControlName]="input.name"
                    [required]="input.required">
          <matx-errors [field]="form.get(input.name)" [errorMessages]="input.errorMessages"></matx-errors>
        </matx-input>
        <matx-select *ngIf="input.type === 'select'"
                     [label]="input.label"
                     [placeholder]="input.placeholder"
                     [options]="input.options"
                     [displayWith]="input.displayWith"
                     [displayField]="input.displayField"
                     [noneText]="input.noneText"
                     [formControlName]="input.name"
                     [required]="input.required">
          <matx-errors [field]="form.get(input.name)" [errorMessages]="input.errorMessages"></matx-errors>
        </matx-select>
        <matx-autocomplete *ngIf="input.type === 'autocomplete'"
                           [label]="input.label"
                           [placeholder]="input.placeholder || input.label"
                           [options]="input.options"
                           [filterBy]="input.filterBy"
                           [displayField]="input.displayField"
                           [displayWith]="input.displayWith"
                           [formControlName]="input.name"
                           [required]="input.required">
          <matx-errors [field]="form.get(input.name)" [errorMessages]="input.errorMessages"></matx-errors>
        </matx-autocomplete>
        <mat-form-field *ngIf="input.type === 'date'" style="width: 100%;">
          <mat-label>{{input.label || input.placeholder}}</mat-label>
          <input matInput
                 [matDatepicker]="picker"
                 [placeholder]="input.placeholder || input.label"
                 [formControlName]="input.name"
                 [required]="input.required">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error>
            <matx-errors [field]="form.get(input.name)" [errorMessages]="input.errorMessages"></matx-errors>
          </mat-error>
        </mat-form-field>
      </ng-template>
    </ng-template>
  </mat-dialog-content>
  <mat-dialog-actions *ngIf="data.actions">
    <ng-template ngFor let-action [ngForOf]="data.actions">
      <!-- action as MatxPromptAction -->
      <button mat-raised-button [attr.type]="action.type || 'button'"
              (click)="execActionCb(action)"
              [color]="action.color">
        {{getActionText(action)}}
      </button>
    </ng-template>
  </mat-dialog-actions>
</form>
